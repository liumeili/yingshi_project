<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>影视</title>
    <style>
        *{margin:0;padding:0;list-style:none;}
        html,body{
          background:#0D1225;
          overflow-x: hidden!important;
          position: static!important;
          height: 100%;
          overflow-y: hidden;
          touch-action: none;
          -webkit-overflow-scrolling: auto;
        }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
  <script>
    // @supports (bottom: env(safe-area-inset-bottom)){
    // body,
    //     .footer{
    //         padding-bottom: constant(safe-area-inset-bottom);
    //         padding-bottom: env(safe-area-inset-bottom);
    //     }
    // }
     (function (window, document) {
      function resize () {
        var ww = window.innerWidth
        if (ww > window.screen.width) {
          window.requestAnimationFrame(resize)
        } else {
          if (ww > 750) {
            ww = 750
          }
          document.documentElement.style.fontSize = ww * 100 / 750 + 'px'
        }
      }

      resize()

      window.addEventListener('resize', resize)
    })(window, document)
    var ios = navigator.userAgent.indexOf('iPhone');//判断是否为ios
    		if(ios != -1){
    		    //ios下运行
            console.log("ios")
    		    var scroll = document.getElementById("app")//你需要滑动的dom元素
    		    touchScroll(scroll);
    		}

    	 	var canScroll = true;
    		function touchScroll(el) {
    			canScroll = false;
    		    //el需要滑动的元素
    		    el.addEventListener('touchmove',function(e){
    		        canScroll = true;
    		    })
    		    document.body.addEventListener('touchmove',function(e){
    // 		    	alert(canScroll);
    		        if(!canScroll){
    		            e.preventDefault(); //阻止默认事件(上下滑动)
    		        }else{
    		            //需要滑动的区域
    		            var top = el.scrollTop; //对象最顶端和窗口最顶端之间的距离
    		            var scrollH = el.scrollHeight; //含滚动内容的元素大小
    		            var offsetH = el.offsetHeight; //网页可见区域高
    		            var cScroll = top + offsetH; //当前滚动的距离

    		            //被滑动到最上方和最下方的时候
    		            if(top == 0){
    		                top = 1; //0～1之间的小数会被当成0
    		            }else if(cScroll === scrollH){
    		                  el.scrollTop = top - 0.1;
    		            }
    		        }
    		    }, {passive: false}) //passive防止阻止默认事件不生效
    		}
  </script>

</html>
